<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.233">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="description" content="This document contains the User and Technical Manuals of the RS MINERVE software. These manuals are constantly updated. This version corresponds to the Software version 2.9.1.">
  <title>RS MINERVE Manuals - 16&nbsp; Examples of application</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>

  <script src="site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="site_libs/quarto-nav/headroom.min.js"></script>
  <script src="site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="./">
  <script src="site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="site_libs/quarto-search/fuse.min.js"></script>
  <script src="site_libs/quarto-search/quarto-search.js"></script>
  <link href="./acknowledgments.html" rel="next">
  <link href="./tech_gis_formats.html" rel="prev">
  <script src="site_libs/quarto-html/quarto.js"></script>
  <script src="site_libs/quarto-html/popper.min.js"></script>
  <script src="site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="site_libs/quarto-html/anchor.min.js"></script>
  <link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link id="quarto-text-highlighting-styles" href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "sidebar",
    "copy-button": false,
    "collapse-after": 3,
    "panel-placement": "start",
    "type": "textbox",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="floating">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Examples of application</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">RS MINERVE Manuals</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">RS MINERVE software</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./user_manual.html" class="sidebar-item-text sidebar-link">User Manual</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_rainfall_runoff_modelling.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Rainfall-runoff modelling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_hydraulic_infrastructures.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Hydraulic infrastructures modelling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_database.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Database</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_gis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">GIS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_hydro_hydrau_simulation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Hydrological-hydraulic simulation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_expert_module.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Expert module</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_plugins.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Plugins</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="./tech_manual.html" class="sidebar-item-text sidebar-link">Technical Manual</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_hydrological_models.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Hydrological and hydraulics models description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_performance_indicators.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Performance indicators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_calibration_algorithms.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Expert module - Calibration algorithms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_stochastic_equations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Expert module - Stochastic equations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_scripts.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Visual Basic Scripts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_file_formats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">File formats</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_database_formats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Database formats</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tech_gis_formats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">GIS formats</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./examples.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Examples of application</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acknowledgments.html" class="sidebar-item-text sidebar-link">Acknowledgments</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendices</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix_list_param_ic.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Appendix: List of parameters and initial conditions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix_list_notifications.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">List of notifications from pre-simulation and post-simulation reports</span></a>
  </div>
</li>
    </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#example-1-simple-basin-with-only-runoff" id="toc-example-1-simple-basin-with-only-runoff" class="nav-link active" data-scroll-target="#example-1-simple-basin-with-only-runoff"> <span class="header-section-number">16.1</span> Example 1 – Simple basin with only runoff</a>
<ul class="collapse">
<li><a href="#objective-of-example-1" id="toc-objective-of-example-1" class="nav-link" data-scroll-target="#objective-of-example-1">Objective of Example 1</a></li>
<li><a href="#resolution-of-example-1" id="toc-resolution-of-example-1" class="nav-link" data-scroll-target="#resolution-of-example-1">Resolution of Example 1</a></li>
<li><a href="#results-of-example-1" id="toc-results-of-example-1" class="nav-link" data-scroll-target="#results-of-example-1">Results of Example 1</a></li>
</ul></li>
<li><a href="#example-2-combined-full-basin-with-meteorological-stations" id="toc-example-2-combined-full-basin-with-meteorological-stations" class="nav-link" data-scroll-target="#example-2-combined-full-basin-with-meteorological-stations"> <span class="header-section-number">16.2</span> Example 2 – Combined full basin with meteorological stations</a>
<ul class="collapse">
<li><a href="#objective-of-example-2" id="toc-objective-of-example-2" class="nav-link" data-scroll-target="#objective-of-example-2">Objective of Example 2</a></li>
<li><a href="#resolution-of-example-2" id="toc-resolution-of-example-2" class="nav-link" data-scroll-target="#resolution-of-example-2">Resolution of Example 2</a></li>
<li><a href="#results-of-example-2" id="toc-results-of-example-2" class="nav-link" data-scroll-target="#results-of-example-2">Results of Example 2</a></li>
</ul></li>
<li><a href="#example-3-equipped-basin-with-a-hydropower-scheme" id="toc-example-3-equipped-basin-with-a-hydropower-scheme" class="nav-link" data-scroll-target="#example-3-equipped-basin-with-a-hydropower-scheme"> <span class="header-section-number">16.3</span> Example 3 – Equipped basin with a hydropower scheme</a>
<ul class="collapse">
<li><a href="#objective-of-example-3" id="toc-objective-of-example-3" class="nav-link" data-scroll-target="#objective-of-example-3">Objective of Example 3</a></li>
<li><a href="#resolution-of-example-3-part-a" id="toc-resolution-of-example-3-part-a" class="nav-link" data-scroll-target="#resolution-of-example-3-part-a">Resolution of Example 3 – Part A</a></li>
<li><a href="#results-of-example-3-part-a" id="toc-results-of-example-3-part-a" class="nav-link" data-scroll-target="#results-of-example-3-part-a">Results of Example 3 – Part A</a></li>
<li><a href="#resolution-of-example-3-part-b" id="toc-resolution-of-example-3-part-b" class="nav-link" data-scroll-target="#resolution-of-example-3-part-b">Resolution of Example 3 – Part B</a></li>
<li><a href="#results-of-example-3-part-b" id="toc-results-of-example-3-part-b" class="nav-link" data-scroll-target="#results-of-example-3-part-b">Results of Example 3 – Part B</a></li>
</ul></li>
<li><a href="#example-4-automatic-calibration-of-a-model" id="toc-example-4-automatic-calibration-of-a-model" class="nav-link" data-scroll-target="#example-4-automatic-calibration-of-a-model"> <span class="header-section-number">16.4</span> Example 4 – Automatic calibration of a model</a>
<ul class="collapse">
<li><a href="#objective-of-example-4" id="toc-objective-of-example-4" class="nav-link" data-scroll-target="#objective-of-example-4">Objective of Example 4</a></li>
<li><a href="#resolution-of-example-4" id="toc-resolution-of-example-4" class="nav-link" data-scroll-target="#resolution-of-example-4">Resolution of Example 4</a></li>
<li><a href="#results-of-example-4" id="toc-results-of-example-4" class="nav-link" data-scroll-target="#results-of-example-4">Results of Example 4</a></li>
</ul></li>
</ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">

<div class="quarto-title"><h1 class="title display-7"><span id="sec-examples" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Examples of application</span></span></h1><div class="quarto-description"><p>This document contains the User and Technical Manuals of the RS MINERVE software. 
These manuals are constantly updated. This version corresponds to the Software version 2.9.1.
</p></div></div></header>

<p>In this chapter, some examples of application are presented in order to deepen the knowledge of the program. These basic examples are designated to facilitate the learning of the program RS MINERVE. The examples are organized according to the degree of difficulty.</p>
<p>The use of RS MINERVE in case studies has demonstrated the capacity of the program to correctly reproduce the real behavior of river basins. In addition, the program facilitates the search of different scenarios of operation while optimizing complex systems in a satisfactorily way.</p>
<p>This chapter contains three examples with didactic aims:</p>
<ul>
<li><p>Example 1 – Simple basin with only runoff.</p></li>
<li><p>Example 2 – Combined full basin with meteorological stations.</p></li>
<li><p>Example 3 – Equipped basin with a hydropower scheme.</p></li>
<li><p>Example 4 – Automatic calibration of a model</p></li>
</ul>
<section id="example-1-simple-basin-with-only-runoff" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="example-1-simple-basin-with-only-runoff"><span class="header-section-number">16.1</span> Example 1 – Simple basin with only runoff</h2>
<p>In the first example the objective is to model the production of a net rain-flow of three impermeable basins, then the propagation of two hydrographs, the implementing of three inflows at a confluence and finally their propagation to the model outlet (<a href="#fig-examples_model_scheme_ex1">Figure&nbsp;<span>16.1</span></a>).</p>
<div id="fig-examples_model_scheme_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_scheme_ex1.emf" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.1: Model scheme</figcaption><p></p>
</figure>
</div>
<p>The three impermeable surfaces are supposed to be located in the same region, thus receiving an identical precipitation. Each surface has its own outlet into different rivers (A and B) which are joined later on in a single final river (C) before flowing into the outlet of the model. The parameters and the state variables of the three surfaces, of the three rivers and the precipitation data are provided in <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex1</span>. The three rivers are modeled with the kinematic wave model.</p>
<section id="objective-of-example-1" class="level3">
<h3 class="anchored" data-anchor-id="objective-of-example-1">Objective of Example 1</h3>
<p>The requested result is the hydrograph at the model outlet during 24 hours, after the beginning of the precipitation, as well as the peak discharge and the peak time.</p>
<p>The simulation parameters are:</p>
<ul>
<li><p>Simulation time step = 600 s</p></li>
<li><p>Recording time step = 600 s</p></li>
</ul>
<p>A uniform and null ETP is assumed for this example (the user can check the selected ETP method in the RS MINERVE settings).</p>
<div id="tbl-examples_characteristics_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects</figcaption><p></p>
</figure>
</div>
</section>
<section id="resolution-of-example-1" class="level3">
<h3 class="anchored" data-anchor-id="resolution-of-example-1">Resolution of Example 1</h3>
<p>This first example is a simplified representation of the reality. Despite of that, it allows the familiarization with the concept of <em>RS MINERVE</em> and to know more about its hydrological objects.</p>
<p>At first, the object “Time Series”&nbsp;<img src="figures/fig-icon_object_timeseries.png" class="img-fluid" style="width:0.24in"> is introduced. Clicking once on its icon in the <em>Objects frame</em>, a pen appears. You can then click in the graphic interface for creating the object in the position you want. Next, the three run-off surfaces are created by means of the object “SWMM” <img src="figures/fig-icon_object_swmm.png" class="img-fluid" style="width:0.24in">. The three rivers are introduced by selecting the model “Kinematic Wave” <img src="figures/fig-icon_object_kinem.png" class="img-fluid" style="width:0.24in">. The model built-up will be finished with the introduction of the two objects “Junction” <img src="figures/fig-icon_object_junction.png" class="img-fluid" style="width:0.24in">.</p>
<p>The graphical interface at this stage is presented in <a href="#fig-examples_graphic_interface_rsm_ex1">Figure&nbsp;<span>16.2</span></a>.</p>
<div id="fig-examples_graphic_interface_rsm_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_graphic_interface_rsm_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.2: Graphic interface of RS MINERVE with the new objects</figcaption><p></p>
</figure>
</div>
<p>After creating the new objects, topological links or connections have to be established. To do so, it is sufficient to press once the space bar of the keyboard to pass in “connections” mode. In Editing tools, the Connections button is then automatically pressed (<a href="#fig-examples_editing_tools_frame_connection">Figure&nbsp;<span>16.3</span></a>). Flying over each objet, the curser presented before as an arrow now appears as a cross. Next, click from the object “Time Series” to the object “SWMM1”, thus creating a topological link.</p>
<div id="fig-examples_editing_tools_frame_connection" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_editing_tools_frame_connection.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.3: Editing tools frame in Connections mode</figcaption><p></p>
</figure>
</div>
<p>The others objects are connected in the same way. Press again the space bar of the keyboard to return to selection mode. The construction of all the model objects and the resulting topologic links is thus achieved as presented in <a href="#fig-examples_topologic_links_between_objects_ex1">Figure&nbsp;<span>16.4</span></a> and it only remains the introduction of the parameters.</p>
<div id="fig-examples_topologic_links_between_objects_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_objects_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.4: Topologic links between the different objects from the model</figcaption><p></p>
</figure>
</div>
<p>By double clicking on the links just created (blue arrows), the information transferred between “Time Series” and the three run-off surfaces as well as that between all other objects from up- to downstream is verified (<a href="#fig-examples_different_connections">Figure&nbsp;<span>16.5</span></a>).</p>
<div id="fig-examples_different_connections" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_different_connections.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.5: Examples of different connections of the presented model</figcaption><p></p>
</figure>
</div>
<p>In clicking double on the Time Series object, the associated frame is opened on the right of the screen and the values “<em>Time&nbsp;(s)&nbsp;-&nbsp;P (mm/h)</em>” are introduced (<a href="#fig-examples_values_timeseries">Figure&nbsp;<span>16.6</span></a>).</p>
<div id="fig-examples_values_timeseries" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_values_timeseries.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.6: Values of the “Time series”</figcaption><p></p>
</figure>
</div>
<p>Next, for each SWMM object (<img src="figures/fig-icon_object_swmm.png" class="img-fluid" style="width:0.24in">), the respective parameters (values available in <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex1</span>) are defined by double clicking on every object and introducing them by the help of the both Parameters and Initial conditions frames. The parameters of the Rivers are introduced in the same way (<a href="#fig-examples_param_ic_swmm_river_ex1">Figure&nbsp;<span>16.7</span></a>).</p>
<div id="fig-examples_param_ic_swmm_river_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_param_ic_swmm_river_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.7: Parameters and initial conditions frames of SWMM 1 (left) and of River A (right)</figcaption><p></p>
</figure>
</div>
<p>The date parameters of the simulation are modified in Solver frame on the left of the screen (<a href="#fig-examples_solver_frame">Figure&nbsp;<span>16.8</span></a>) before the calculation. For both dates “Start” and “End” an arbitrary date is proposed, but the “End” date has to finish 24 hours later than “Start” date. The “Simulation time step” and the “Recording time step” have a value of 600 s.</p>
<div id="fig-examples_solver_frame" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_solver_frame.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.8: Solver frame</figcaption><p></p>
</figure>
</div>
<p>Constructed final model can be now saved clicking in the button <img src="figures/fig-icon_save_button.png" class="img-fluid" style="width:0.19in"> and giving a name to the file (e.g. “Example1.rsm”). This way the model could be loaded later to do new simulations (<a href="#fig-examples_project_frame">Figure&nbsp;<span>16.9</span></a>).</p>
<div id="fig-examples_project_frame" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_project_frame.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.9: Project frame</figcaption><p></p>
</figure>
</div>
<p>Before running calculation, a pre-simulation validation of the model parameterization can be made in clicking in the button <img src="figures/fig-icon_validation.png" style="height:0.24in"> (Solver frame). Its report is summarized on the right of the interface.</p>
<p>Finally, the simulation is initiated by clicking on the button Start in the Solver frame.</p>
</section>
<section id="results-of-example-1" class="level3">
<h3 class="anchored" data-anchor-id="results-of-example-1">Results of Example 1</h3>
<p>In order to access to the calculation results for each object it has to be clicked two times on any of them. For example, clicking double on the object Outlet, its dialog box is opened on the right and the simulated hydrograph, being the objective of the Example 1, is shown (<a href="#fig-examples_results_simulation_ex1">Figure&nbsp;<span>16.10</span></a>).</p>
<div id="fig-examples_results_simulation_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_results_simulation_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.10: Results of the simulation in the outlet of the model</figcaption><p></p>
</figure>
</div>
<p>If we check the values (<a href="#fig-examples_discharge_values_ex1">Figure&nbsp;<span>16.11</span></a>), we can found that the maximal discharge (28.442 m<sup>3</sup>/s) arrives at 09:20 (assuming the simulation starts at 00:00).</p>
<div id="fig-examples_discharge_values_ex1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_discharge_values_ex1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.11: Discharge values at outlet</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="example-2-combined-full-basin-with-meteorological-stations" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="example-2-combined-full-basin-with-meteorological-stations"><span class="header-section-number">16.2</span> Example 2 – Combined full basin with meteorological stations</h2>
<p>The hydrological system proposed by the Example 2 includes four hydrological models of production, a GSM and three HBV models as well as the rivers of the basin. The discharge production in the sub-basins area is based on given precipitations and temperatures from a database.</p>
<p>This expected model is represented in <a href="#fig-examples_model_scheme_ex2">Figure&nbsp;<span>16.12</span></a>.</p>
<div id="fig-examples_model_scheme_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_scheme_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.12: Model scheme</figcaption><p></p>
</figure>
</div>
<p>The parameters of the objects are provided in <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex2_1</span> to <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex2_3</span> and the precipitation and temperature data are in the database “Database manual”.</p>
<section id="objective-of-example-2" class="level3">
<h3 class="anchored" data-anchor-id="objective-of-example-2">Objective of Example 2</h3>
<p>The objective of this example is to determine the hydrograph in the outlet of the system during the period between the 08.05.2013 00:00 and the 15.05.2013 00:00, the peak discharge and the peak time, as well as the discharge created at the outlet of each sub-basin.</p>
<p>The simulation parameters are:</p>
<ul>
<li><p>Simulation time step = 600 s</p></li>
<li><p>Recording time step = 600 s</p></li>
</ul>
<p>A uniform and null ETP is assumed for this example (the user can check the selected ETP method in the RS MINERVE settings).</p>
<div id="tbl-examples_characteristics_ex2_1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex2_1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects (1/3)</figcaption><p></p>
</figure>
</div>
<div id="tbl-examples_characteristics_ex2_2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex2_2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects (2/3)</figcaption><p></p>
</figure>
</div>
<div id="tbl-examples_characteristics_ex2_3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex2_3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects (3/3)</figcaption><p></p>
</figure>
</div>
<p>Besides, two meteorological real stations are included in the data base:</p>
<div id="tbl-examples_characteristics_meteo_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_meteo_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the meteorological real stations</figcaption><p></p>
</figure>
</div>
</section>
<section id="resolution-of-example-2" class="level3">
<h3 class="anchored" data-anchor-id="resolution-of-example-2">Resolution of Example 2</h3>
<p>First of all, the subcatchment with HBV <img src="figures/fig-icon_object_hbv.png" style="height:0.24in"> and GSM <img src="figures/fig-icon_object_gsm.png" style="height:0.24in"> models will be set up. Then, the three rivers <img src="figures/fig-icon_object_kinem.png" style="height:0.24in"> (with Kinematic Wave) and the two junctions <img src="figures/fig-icon_object_junction.png" style="height:0.24in"> are also added as presented in <a href="#fig-examples_unlinked_objects_ex2">Figure&nbsp;<span>16.13</span></a> (more details are given in Example 1 for model construction, including the link between each object and their parameterization).</p>
<div id="fig-examples_unlinked_objects_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_unlinked_objects_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.13: Unlinked objects of the model</figcaption><p></p>
</figure>
</div>
<p>After that, the models are linked from upstream to downstream (<a href="#fig-examples_topologic_links_between_objects_ex2">Figure&nbsp;<span>16.14</span></a>) and the relations created can be visualized by double clicking on each blue arrow (<a href="#fig-examples_possible_outputs_transfer_ex2">Figure&nbsp;<span>16.15</span></a>, <a href="#fig-examples_connection_between_objects_ex2">Figure&nbsp;<span>16.16</span></a>).</p>
<div id="fig-examples_topologic_links_between_objects_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_objects_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.14: Relations between the objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_possible_outputs_transfer_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_possible_outputs_transfer_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.15: Possible outputs transfers between objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_connection_between_objects_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_connection_between_objects_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.16: Connections between objects</figcaption><p></p>
</figure>
</div>
<p>The parameters associated to each object are then introduced (values available in previous tables). The result is presented for both HBV 1 and GSM 1 models in <a href="#fig-examples_param_ic_hbv_gsm_ex2">Figure&nbsp;<span>16.17</span></a>.</p>
<div id="fig-examples_param_ic_hbv_gsm_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_param_ic_hbv_gsm_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.17: Parameters of the HBV 1 model (left) and the GSM 1 model (right)</figcaption><p></p>
</figure>
</div>
<p>Secondly, virtual weather stations are inserted. For its accomplishment, 4 Virtual Weather Stations <img src="figures/fig-icon_object_station.png" style="height:0.24in"> are created and connected according to <a href="#fig-examples_model_with_stations_ex2">Figure&nbsp;<span>16.18</span></a>. The topology of the relations created in this case is detailed in <a href="#fig-examples_topologic_links_between_stations_ex2">Figure&nbsp;<span>16.19</span></a>. Then the parameters are introduced (<a href="#fig-examples_param_station_ex2">Figure&nbsp;<span>16.20</span></a>) with the available values presented previously.</p>
<div id="fig-examples_model_with_stations_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_with_stations_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.18: Topology of the full model: production, transfer then transport</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_topologic_links_between_stations_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_stations_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.19: Topologic links between the different objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_param_station_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_param_station_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.20: Parameters of the Virtual Weather Station H1 (for HBV 1)</figcaption><p></p>
</figure>
</div>
<p>Constructed model can be now saved clicking in the button <img src="figures/fig-icon_save_button.png" style="height:0.24in"> and giving a name to the .rsm file (e.g. “Example2.rsm”).</p>
<p>Next, the meteorological data have to be loaded: the dialog box of the database is opened clicking in <img src="figures/fig-icon_database_open.png" style="height:0.24in"> (<a href="#fig-examples_database_frame_ex2">Figure&nbsp;<span>16.21</span></a>) for loading the corresponding database file (“Database manual.dbx”).</p>
<div id="fig-examples_database_frame_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_database_frame_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.21: Database frame</figcaption><p></p>
</figure>
</div>
<p>The user can click on the Database tab to visualize or modify the series of the database (<a href="#fig-examples_database_model_ex2">Figure&nbsp;<span>16.53</span></a>).</p>
<div id="fig-examples_database_model_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_database_model_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.22: Database of the model</figcaption><p></p>
</figure>
</div>
<p>Once the database loaded, the user can connect the database to the hydrological model. For achieving this purpose, the user has to choose the correct data source in the corresponding frame (<a href="#fig-examples_datasource_connection_ex2">Figure&nbsp;<span>16.23</span></a>): the group “Measure” and the dataset “DataSet Example 2and3” for the current example. Since no source, <em>TurbineDB</em>, reservoir or consumer objects exist in the model, it is not necessary to fill up their data sources.</p>
<div id="fig-examples_datasource_connection_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_datasource_connection_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.23: Data source used for connecting the model to the database</figcaption><p></p>
</figure>
</div>
<p>Finally, and after achieve a simulation, the weight of each meteorological real station can be checked by clicking at one Virtual Weather station of the hydrological model (<a href="#fig-examples_weight_station_ex2">Figure&nbsp;<span>16.24</span></a>).</p>
<div id="fig-examples_weight_station_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_weight_station_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.24: Weight of each meteorological station for the Virtual Weather Station H1</figcaption><p></p>
</figure>
</div>
<p>The pre-simulation validation (<img src="figures/fig-icon_validation.png" style="height:0.24in">) allows to valid the model. If the message: “Model ‘Example 2’ is valid” appears, the simulation can be started by clicking in the button Start.</p>
</section>
<section id="results-of-example-2" class="level3">
<h3 class="anchored" data-anchor-id="results-of-example-2">Results of Example 2</h3>
<p>Once finished the calculation, the hydrograph in the outlet of the system, among others, can be visualized (<a href="#fig-examples_outlet_hydrograph_ex2">Figure&nbsp;<span>16.25</span></a>).</p>
<div id="fig-examples_outlet_hydrograph_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_outlet_hydrograph_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.25: Hydrograph in the outlet of the system</figcaption><p></p>
</figure>
</div>
<p>If we check the values (<a href="#fig-examples_discharge_values_ex2">Figure&nbsp;<span>16.26</span></a>), we can found that the maximal discharge arrives on May the 9<sup>th</sup>, 2013 at 07:00 and the discharge value is 8.154 m<sup>3</sup>/s.</p>
<div id="fig-examples_discharge_values_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_discharge_values_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.26: Discharge values at outlet</figcaption><p></p>
</figure>
</div>
<p>All the simulated variables of the model (including the discharge in each sub-basin outlet) can be visualized (<a href="#fig-examples_selection_plots_subbasins_ex2">Figure&nbsp;<span>16.27</span></a> and <a href="#fig-examples_hydrographs_subbasins_ex2">Figure&nbsp;<span>16.28</span></a>) clicking on the “Selection and plots” frame and in selecting the series to draw as presented in <a href="user_hydro_hydrau_simulation.html#sec-user_hydro_hydrau_simulation_selection_plots">Section&nbsp;<span>5.2</span></a>. Finally you can export the selection results in excel format clicking in “Export results to…” in the series frame.</p>
<div id="fig-examples_selection_plots_subbasins_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_selection_plots_subbasins_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.27: <em>Selection and Plots</em> with the hydrographs at the outlet for each sub-basin of the system</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_hydrographs_subbasins_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_hydrographs_subbasins_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.28: Hydrographs at the outlet for each sub-basin of the system</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="example-3-equipped-basin-with-a-hydropower-scheme" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="example-3-equipped-basin-with-a-hydropower-scheme"><span class="header-section-number">16.3</span> Example 3 – Equipped basin with a hydropower scheme</h2>
<p>This example, allows showing the potential of RS MINERVE for equipped basins. The model starts with the previous model built in Example 2 and adds a hydropower scheme as well as a supplementary basin with an intake. The complete model is presented in <a href="#fig-examples_model_scheme_ex3">Figure&nbsp;<span>16.29</span></a>.</p>
<div id="fig-examples_model_scheme_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_scheme_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.29: Model scheme</figcaption><p></p>
</figure>
</div>
<p>HBV 1, HBV 2 and GSM 1 basins flow through the Reservoir 1. Intake located downstream of a SOCONT model provides supplementary discharge up to 2 m<sup>3</sup>/s. It is assumed that the propagation in the channel is insignificant and thus it is not necessary to include it in the model (in other case, we could built it with the Reach Kinematic object).</p>
<p>The reservoir includes a turbine and a spillway. The turbine generates electricity as long as it is possible for a capacity of 1 m<sup>3</sup>/s. These two reservoir outflows flow in the River C up the outlet, where they are joined by the production of HBV 3 sub-basin. All the parameters of the different objects are provided in <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex3_1</span> and <span class="quarto-unresolved-ref">?tbl-examples_characteristics_ex3_2</span>. The temperature and precipitation data are in the database “Database manual”. A uniform and null ETP is assumed for this example (the user can check the selected ETP method in the RS MINERVE settings).</p>
<section id="objective-of-example-3" class="level3">
<h3 class="anchored" data-anchor-id="objective-of-example-3">Objective of Example 3</h3>
<p><strong><em>Part A</em></strong></p>
<p>The wanted result for this example is the inflow in the reservoir, the spillway discharge and the hydrograph in the outlet of the model for the period between the 08.05.2013 00:00 and the 15.05.2013 00:00 (as well as the peak discharge and the peak time).</p>
<p><strong><em>Part B</em></strong></p>
<p>Second issue aims to know if the reservoir could be managed in order to reduce the peak in the outlet of the system. The objective of this extension is to implement a facility to release water for preventive purposes.</p>
<div id="tbl-examples_characteristics_ex3_1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex3_1.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects (1/2)</figcaption><p></p>
</figure>
</div>
<div id="tbl-examples_characteristics_ex3_2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/tbl-examples_characteristics_ex3_2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Characteristics of the objects (2/2)</figcaption><p></p>
</figure>
</div>
<p>Additionally, initial discharge (<span class="math inline">\(Qini\)</span>) of River C is in this case 1 m<sup>3</sup>/s.</p>
</section>
<section id="resolution-of-example-3-part-a" class="level3">
<h3 class="anchored" data-anchor-id="resolution-of-example-3-part-a">Resolution of Example 3 – Part A</h3>
<p>In the first place, the model of the Example 2 is opened. The connection between the “Confluence” and the River C is erased and objects Virtual Weather Station <img src="figures/fig-icon_object_station.png" style="height:0.24in">, SOCONT <img src="figures/fig-icon_object_socont.png" style="height:0.24in">, Reservoir <img src="figures/fig-icon_object_reservoir.png" style="height:0.24in">, Spillway <img src="figures/fig-icon_object_hq.png" style="height:0.24in">, Turbine <img src="figures/fig-icon_object_turbine.png" style="height:0.24in"> and Junction <img src="figures/fig-icon_object_junction.png" style="height:0.24in"> are added, as presented in <a href="#fig-examples_model_construction_ex3">Figure&nbsp;<span>16.30</span></a>.</p>
<div id="fig-examples_model_construction_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_construction_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.30: Construction of the Example 3 model on the basis of Example 2</figcaption><p></p>
</figure>
</div>
<p>New objects are always linked from upstream to downstream (e.g.: SOCONT 1 to Diversion 1, Diversion 1 to Confluence (<span class="math inline">\(Qdiverted\)</span>) and to Outside of the Basin (<span class="math inline">\(Qdown\)</span>), Reservoir 1 to HQ 1, Reservoir 1 to Turbine 1, Turbine 1 to River C, etc). After creating the links (<a href="#fig-examples_topologic_links_between_objects_ex3">Figure&nbsp;<span>16.31</span></a>), the news relations can be visualized by double clicking on each blue arrow (<a href="#fig-examples_relations_station_ex3">Figure&nbsp;<span>16.32</span></a> to <a href="#fig-examples_relations_intake_ex3">Figure&nbsp;<span>16.35</span></a>).</p>
<div id="fig-examples_topologic_links_between_objects_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_objects_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.31: Topology of the new model</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_station_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_station_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.32: Relations for Virtual Weather Station S1 and SOCONT 1 objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_reservoir_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_reservoir_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.33: Relations for the Reservoir object</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_turbine_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_turbine_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.34: Relations for the Turbine object</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_intake_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_intake_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.35: Relations for the Diversion object</figcaption><p></p>
</figure>
</div>
<p>The introduced parameters of new objects Diversion 1, Reservoir 1, HQ 1 and Turbine 1 are presented in <a href="#fig-examples_relations_qup_qdiverted_diversion_ex3">Figure&nbsp;<span>16.36</span></a> to <a href="#fig-examples_discharge_turbine_ex3">Figure&nbsp;<span>16.39</span></a>.</p>
<div id="fig-examples_relations_qup_qdiverted_diversion_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_qup_qdiverted_diversion_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.36: Relation Qup-Qdiverted introduced in the Diversion 1</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_hv_reservoir_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_hv_reservoir_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.37: Relation H-V of the Reservoir 1</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_relations_hq_hq_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_relations_hq_hq_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.38: Relation H-Q of the HQ 1</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_discharge_turbine_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_discharge_turbine_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.39: Discharge of the Turbine 1</figcaption><p></p>
</figure>
</div>
<p>As shown in <a href="#fig-examples_discharge_turbine_ex3">Figure&nbsp;<span>16.39</span></a>, the thresholds in the level of the reservoir to start (2127 masl) and to stop (2110 masl) the turbine cycle, as well as the first suggested value for the turbine cycle (1 = turbine) have to be introduced.</p>
<p>Once the construction finished, it can be saved clicking in the button <img src="figures/fig-icon_save_button.png" style="height:0.24in"> and giving a name to the .rsm file (e.g. “Example3.rsm”).</p>
<p>Before starting the calculation, the meteorological data have to be loaded: the dialog box of the database is opened clicking in <img src="figures/fig-icon_database_open.png" style="height:0.24in"> Open for loading the corresponding database file (“Database manual”). The user can click on the Database tab to visualize or modify the series of the database (<a href="#fig-examples_database_model_ex2">Figure&nbsp;<span>16.53</span></a>).</p>
<p>Once the database loaded, the user can connect the database to the hydrological model. For achieving this purpose, the user has to choose the correct data source in the corresponding frame (<a href="#fig-examples_datasource_connection_ex3">Figure&nbsp;<span>16.40</span></a>): the group “Measure” and the dataset “DataSet Example 2and3” for the current example. It is not necessary to fill up the data sources of the reservoir as it will take the default value for the simulation.</p>
<div id="fig-examples_datasource_connection_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_datasource_connection_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.40: Data source used for connecting the model to the database</figcaption><p></p>
</figure>
</div>
<p>Finally, the necessary parameters of the simulation are chosen in the menu Solver frame according to the propose dates in the wording. The other values (time intervals) stay as indicate in the program, being 600 s in both cases.</p>
<p>If the pre-simulation validation allows to valid the model (with the message: “Model ‘Example 3’ is valid”), the simulation can be initiated clicking in the button Start.</p>
</section>
<section id="results-of-example-3-part-a" class="level3">
<h3 class="anchored" data-anchor-id="results-of-example-3-part-a">Results of Example 3 – Part A</h3>
<p>All the results can be visualized by double clicking in the corresponding object. <a href="#fig-examples_outlet_hydrograph_ex3_A">Figure&nbsp;<span>16.41</span></a> presents the hydrograph at the system outlet.</p>
<div id="fig-examples_outlet_hydrograph_ex3_A" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_outlet_hydrograph_ex3_A.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.41: Outlet hydrograph</figcaption><p></p>
</figure>
</div>
<p>The peak discharge arrives on May the 9<sup>th</sup>, 2013 at 21:40 and the peak discharge is equal to 8.482 m<sup>3</sup>/s.</p>
<p>To summarize the simulated balance of Reservoir 1, an analysis of inputs/outputs in the Reservoir 1 is realized with the “Selection and plots” module. The inflow into the Reservoir 1 (Confluence), the spillway discharge (HQ 1), the turbine flow (Turbine 1), the total flow at the downstream of the reservoir (River C, <span class="math inline">\(Qup\)</span>) and the reservoir level evolution (Reservoir 1) are presented in <a href="#fig-examples_flows_balance_reservoir_ex3">Figure&nbsp;<span>16.42</span></a>. Despite the turbine, the reservoir level reached its maximal fill rating with an overflow which lasted several days. At the end of the simulation, the reservoir level comes around 90 cm above the initial level.</p>
<div id="fig-examples_flows_balance_reservoir_ex3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_flows_balance_reservoir_ex3.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.42: Flows balance of the reservoir</figcaption><p></p>
</figure>
</div>
</section>
<section id="resolution-of-example-3-part-b" class="level3">
<h3 class="anchored" data-anchor-id="resolution-of-example-3-part-b">Resolution of Example 3 – Part B</h3>
<p>In order to create an outlet or a facility for releases, one way is to define a turbine connected to the reservoir (<a href="#fig-examples_topologic_links_between_objects_ex3_B">Figure&nbsp;<span>16.43</span></a>). We create a new turbine (Turbine 2) and make the connections from the reservoir to the new turbine and from the turbine to River C. Also we create a time series element connected to the new turbine where we will define the releases from the reservoirs.</p>
<div id="fig-examples_topologic_links_between_objects_ex3_B" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_objects_ex3_B.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.43: Topology of the model including the new release</figcaption><p></p>
</figure>
</div>
<p>Notice that actually the new turbine is representing a sluice of the reservoir.</p>
<p>Once the model has been adapted we have to define the preventive releases in the corresponding Turbine 2. Analyzing the results of the example one can think that preventive release should start near 13h00 of first day and finish eleven hours later.</p>
<p>As in the time series we have to define time in seconds (0 seconds corresponds to the start time of the simulation), the start is at 46800&nbsp;s and the end at 86400&nbsp;s. Moreover, it is considered that the release must take place only when the level in the reservoir exceeds 2128 masl, and stops when it is under 2125 masl.</p>
<p>The value of the releases depends on the capacity of the sluice and the decision of the manager. In this case, a discharge of 5 m<sup>3</sup>/s is defined, as presented in <a href="#fig-examples_release_turbine_ex3_B">Figure&nbsp;<span>16.44</span></a>.</p>
<div id="fig-examples_release_turbine_ex3_B" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_release_turbine_ex3_B.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.44: Proposed release from the Turbine 2</figcaption><p></p>
</figure>
</div>
<p>New objects are linked as before, from upstream to downstream, obtaining same relations, as presented in <a href="#fig-examples_connection_between_objects_ex3_B">Figure&nbsp;<span>16.45</span></a>.</p>
<div id="fig-examples_connection_between_objects_ex3_B" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_connection_between_objects_ex3_B.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.45: Connections between objects</figcaption><p></p>
</figure>
</div>
</section>
<section id="results-of-example-3-part-b" class="level3">
<h3 class="anchored" data-anchor-id="results-of-example-3-part-b">Results of Example 3 – Part B</h3>
<p>In the following <a href="#fig-examples_outlet_hydrograph_ex3_B">Figure&nbsp;<span>16.46</span></a> we can see the new flows of the outlet and other variables. As it can be seen the peak is reduced to less than 8 m<sup>3</sup>/s due to the preventive releases at the outlet of the model (<a href="#fig-examples_outlet_hydrograph_ex3_B">Figure&nbsp;<span>16.46</span></a>). Moreover, with the extra releases, we have created a first artificial peak.</p>
<div id="fig-examples_outlet_hydrograph_ex3_B" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_outlet_hydrograph_ex3_B.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.46: Outlet hydrograph after the addition of the new release. Peak discharge of 7.552 m<sup>3</sup>/s arrives now on May the 10<sup>th</sup>, 2013 at 02:10.</figcaption><p></p>
</figure>
</div>
<p>Maximum water level on the reservoir, 2128.4731 m a.s.l., is at this case smaller than without the extra release of Part A (maximum water level of the part A was 2128.467 m a.s.l.).</p>
<p>To compared this results with the results of Part A, same results are presented, i.e., an analysis of inputs/outputs in the Reservoir 1. The inflow into the Reservoir 1 (Confluence), the spillway discharge (HQ 1), the turbine flows (Turbine 1 and Turbine 2), the total flow at the downstream of the reservoir (River C, <span class="math inline">\(Qup\)</span>) and the reservoir level evolution (Reservoir 1) are presented in <a href="#fig-examples_flows_balance_reservoir_ex3_B">Figure&nbsp;<span>16.47</span></a>.</p>
<div id="fig-examples_flows_balance_reservoir_ex3_B" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_flows_balance_reservoir_ex3_B.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.47: Flows balance of the reservoir and hydrographs at main control points</figcaption><p></p>
</figure>
</div>
<p>Although the objective has achieved, many issues emerge from the management of the reservoir. How much water do we have to release? Are we aggravating the situation downstream? How much energy will we lose if the flood is not as important as expected? And so on.</p>
</section>
</section>
<section id="example-4-automatic-calibration-of-a-model" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="example-4-automatic-calibration-of-a-model"><span class="header-section-number">16.4</span> Example 4 – Automatic calibration of a model</h2>
<p>This example allows an introduction to the use of the tool of hydrologic calibration in Expert module. The model starts with the previous model built in Example 2, with the same parameters. The calibration will be based on the comparison between observed and simulated discharges. Through this example (<a href="#fig-examples_model_scheme_ex4">Figure&nbsp;<span>16.48</span></a>), five parameters are calibrated. Two parameters are calibrated for the GSM object and three for the HBV model:</p>
<ul>
<li><p>GSM-An, the degree-day snowmelt coefficient</p></li>
<li><p>GSM-Agl, the Degree-day icemelt coefficient</p></li>
<li><p>HBV-FC, the maximum soil storage capacity</p></li>
<li><p>HBV-SUMax, the upper reservoir water level threshold</p></li>
<li><p>HBV-Kr, the near surface flow storage coefficient</p></li>
</ul>
<p>The range of values for the calibration can be defined based on the values given as regular range in <a href="appendix_list_param_ic.html">Section&nbsp;<span>A</span></a>. The temperatures, the precipitations and the outflow observed are in the database “Database manual”. A uniform and null ETP is assumed for this example (the user can check the selected ETP method in the RS MINERVE Settings).</p>
<div id="fig-examples_model_scheme_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_model_scheme_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.48: Model scheme</figcaption><p></p>
</figure>
</div>
<section id="objective-of-example-4" class="level3">
<h3 class="anchored" data-anchor-id="objective-of-example-4">Objective of Example 4</h3>
<p>The wanted result is the new values for the calibrated parameters of the GSM and HBV models after the automatic calibration. For the calibration, observed and simulated data are compared at the confluence point and at the outlet for a period between the 01.09.2011 00:00 and the 31.08.2012 00:00. In this example, the calibration uses an Objective Function (OF) with a weight of four for the Nash indicator, two for the Pearson Correlation Coeff indicator, four for the Relative Volume Bias indicator and zero for the other indicators. The “Simulation time step” and the “Recording time step” are fixed to 600 s.</p>
</section>
<section id="resolution-of-example-4" class="level3">
<h3 class="anchored" data-anchor-id="resolution-of-example-4">Resolution of Example 4</h3>
<p>For the calibration, it is necessary to add two source objects <img src="figures/fig-icon_object_source.png" style="height:0.24in"> to have a reference flows (observed discharges) at the confluence point and at the outlet. Two comparators objects <img src="figures/fig-icon_object_comparator.png" style="height:0.24in"> are also necessary to compare the results of the simulation with the reference data (observations) coming from the source object.</p>
<p>The Confluence and the Source 1 are connected to the comparator 1. The Outlet and the Source 2 are connected to the Comparator 2. The relations created can be visualized by double clicking on each blue arrow (<a href="#fig-examples_topologic_links_between_objects_ex4">Figure&nbsp;<span>16.49</span></a>, <a href="#fig-examples_possible_outputs_transfer_ex4">Figure&nbsp;<span>16.50</span></a>, <a href="#fig-examples_connection_between_objects_ex4">Figure&nbsp;<span>16.51</span></a>).</p>
<div id="fig-examples_topologic_links_between_objects_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_topologic_links_between_objects_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.49: Topologic links between the different objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_possible_outputs_transfer_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_possible_outputs_transfer_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.50: Possible outputs transfers between objects</figcaption><p></p>
</figure>
</div>
<div id="fig-examples_connection_between_objects_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_connection_between_objects_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.51: Connections between objects</figcaption><p></p>
</figure>
</div>
<p>Constructed model can be now saved clicking in the button <img src="figures/fig-icon_save_button.png" style="height:0.24in"> and giving a name to the .rsm file (e.g.&nbsp;“Example4.rsm”).</p>
<p>Next, the meteorological data have to be loaded: the dialog box of the database is opened clicking in <img src="figures/fig-icon_database_open.png" style="height:0.24in"> (<a href="#fig-examples_database_frame_ex4">Figure&nbsp;<span>16.52</span></a>) for loading the corresponding database file (“Database manual.dbx”).</p>
<div id="fig-examples_database_frame_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_database_frame_ex2.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.52: Database frame</figcaption><p></p>
</figure>
</div>
<p>The user can visualize or modify the database (<span class="quarto-unresolved-ref">?fig-examples_database_model_ex4</span>).</p>
<div id="fig-examples_database_model_ex2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_database_model_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.53: Database of the model</figcaption><p></p>
</figure>
</div>
<p>Once the database is loaded, the user can connect the database to the hydrological model. For achieving this purpose, the user has to choose the correct data source in the corresponding frame (<a href="#fig-examples_datasource_connection_ex4">Figure&nbsp;<span>16.54</span></a>): the group “Measure” and the dataset “DataSet Example 4” for the current example.</p>
<div id="fig-examples_datasource_connection_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_datasource_connection_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.54: Data source used for connecting the model to the database</figcaption><p></p>
</figure>
</div>
<p>Then, the user has to choose the series identifier for each Source object (the series of the database which contains the observed discharges) as shown in <a href="#fig-examples_series_identifier_source_ex4">Figure&nbsp;<span>16.55</span></a>.</p>
<div id="fig-examples_series_identifier_source_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_series_identifier_source_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.55: Series identifier for the “Source 2” object</figcaption><p></p>
</figure>
</div>
<p>In order to clarify the use of the Calibrator tool, the different objects of the model will be aggregated in 2 zones:</p>
<ul>
<li><p>Zone 1: all the objects upstream the “Confluence” object (including the “Confluence”).</p></li>
<li><p>Zone 2: the rest of the objects of the model.</p></li>
</ul>
<p>For that, the user has to double-click on each objects of the Zone 1 and change the Zone form 0 (default) to 1 as shown in <a href="#fig-examples_change_zone_ex4">Figure&nbsp;<span>16.56</span></a>. The user will proceed similarly for the Zone 2.</p>
<div id="fig-examples_change_zone_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_change_zone_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.56: Change of the Zone of the “Station G1” object</figcaption><p></p>
</figure>
</div>
<p>Finally, the module of hydrologic calibration can be launched by clicking on Expert <span class="math inline">\(\rightarrow\)</span> Calibrator in the <em>Modules</em> frame (<a href="#fig-examples_interface_calibrator">Figure&nbsp;<span>16.57</span></a>).</p>
<div id="fig-examples_interface_calibrator" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_interface_calibrator.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.57: Interface of the Calibrator tool</figcaption><p></p>
</figure>
</div>
<p>Two calibration configurations can be created, one for each zone of the model (<a href="#fig-examples_creation_calibration_config">Figure&nbsp;<span>16.58</span></a>). Give the order 1 to the calibration of Zone 1 (this one will be executed first) and order 2 to the calibration of Zone 2 (this one will be executed next).</p>
<div id="fig-examples_creation_calibration_config" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_creation_calibration_config.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.58: Creation of the calibration configurations</figcaption><p></p>
</figure>
</div>
<p><u>For each calibration configuration</u>, in the Selection frame the HBV and GSM objects types are selected with the corresponding zone (<a href="#fig-examples_selection_objects_calibration">Figure&nbsp;<span>16.59</span></a>).</p>
<div id="fig-examples_selection_objects_calibration" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_selection_objects_calibration.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.59: Selection of objects and zones to calibrate, for the “Confluence” calibration configuration</figcaption><p></p>
</figure>
</div>
<p>The parameters to calibrate are checked in the Parameters frame (<a href="#fig-examples_param_calibration">Figure&nbsp;<span>16.60</span></a>). For each of them, the minimum and maximum values are:</p>
<ul>
<li><p>GSM-An: 0.5 – 10</p></li>
<li><p>GSM-Agl: 0.5 – 10</p></li>
<li><p>HBV-FC: 0.05 – 0.65</p></li>
<li><p>HBV-SUMax: 0 – 0.1</p></li>
<li><p>HBV-Kr: 0.05 – 0.5</p></li>
</ul>
<p>The source of the initial values is selected as random for the parameters to calibrate and from model for the others.</p>
<div id="fig-examples_param_calibration" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_param_calibration.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.60: Definition of the parameters to calibrate</figcaption><p></p>
</figure>
</div>
<p>In the Comparators frame, select alternatively the comparator whose the observed discharges will be used for the calibration of the corresponding zone (Comparator 1 for the first calibration configuration, and Comparator 2 for the second one).</p>
<div id="fig-examples_selection_comparators" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_selection_comparators.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.61: Selection of comparators</figcaption><p></p>
</figure>
</div>
<p>In the Objective Function (OF) frame the weight of the Nash and Relative Volume Bias coefficient are settled to 4 and the weight of the Pearson relative coefficient is 2. The other coefficients are all settled to zero (<a href="#fig-examples_weight_indicators_ex4">Figure&nbsp;<span>16.62</span></a>). The default algorithm parameters are used.</p>
<div id="fig-examples_weight_indicators_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_weight_indicators_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.62: Weight of each indicator to determine the objective function</figcaption><p></p>
</figure>
</div>
<p>After specifying the calibration period in the Solver tab of the Hydrologic parameters optimization frame, the calibration configuration can be saved and then started.</p>
<p>At the end of the calibrations the final parameters obtained are collected in the current model. If the model is saved, the parameters are stored; if not, the hydrological model keeps preliminary parameters.</p>
</section>
<section id="results-of-example-4" class="level3">
<h3 class="anchored" data-anchor-id="results-of-example-4">Results of Example 4</h3>
<p>Once the calculation is finished (after approximately 1’300 iterations for the confluence calibration and 400 iteration for the outlet calibration), the best values obtained for the parameters can be visualized in the Summary results frame. From a maximum possible value of the Objective Function (OF) of 6, the best score provided by the algorithm is 5.448 and 5.560 for the confluence calibration and the outlet calibration, respectively.</p>
<p>Hereafter (<a href="#tbl-examples_calibrated_params">Table&nbsp;<span>16.1</span></a> and <a href="#tbl-examples_performance_indicators">Table&nbsp;<span>16.2</span></a>) the results of the calibration (since the algorithm contains the random calculations, it is possible to obtain a similar but not exactly the same result).</p>
<div id="tbl-examples_calibrated_params" class="anchored">
<table class="table">
<caption>Table 16.1: Calibrated parameters</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Initial Parameter</th>
<th style="text-align: center;"><p>Initial</p>
| Parameter</th>
<th style="text-align: center;">Best Parameter</th>
<th style="text-align: center;"><p>Best</p>
| Parameter</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: center;"><strong>Confluence</strong></td>
<td style="text-align: center;"><p><strong>Outlet</strong></p></td>
<td style="text-align: center;"><strong>Confluence</strong></td>
<td style="text-align: center;"><p><strong>Outlet</strong></p></td>
</tr>
<tr class="even">
<td>GSM - An</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;"><p>-</p></td>
<td style="text-align: center;">0.761</td>
<td style="text-align: center;"><p>-</p></td>
</tr>
<tr class="odd">
<td>GSM – Agl</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;"><p>-</p></td>
<td style="text-align: center;">0.500</td>
<td style="text-align: center;"><p>-</p></td>
</tr>
<tr class="even">
<td>HBV – FC</td>
<td style="text-align: center;">Different values</td>
<td style="text-align: center;"><p>0.275<br>
</p></td>
<td style="text-align: center;">0.126</td>
<td style="text-align: center;"><p>0.534<br>
</p></td>
</tr>
<tr class="odd">
<td>HBV – SUMax</td>
<td style="text-align: center;">Different values</td>
<td style="text-align: center;"><p>0.0055<br>
</p></td>
<td style="text-align: center;">0.100</td>
<td style="text-align: center;"><p>0.0781<br>
</p></td>
</tr>
<tr class="even">
<td>HBV – Kr</td>
<td style="text-align: center;">Different values</td>
<td style="text-align: center;"><p>0.3<br>
</p></td>
<td style="text-align: center;">0.281</td>
<td style="text-align: center;"><p>0.152<br>
</p></td>
</tr>
</tbody>
</table>
</div>
<div id="tbl-examples_performance_indicators" class="anchored">
<table class="table">
<caption>Table 16.2: Performance indicators</caption>
<colgroup>
<col style="width: 17%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Initial Performance</th>
<th style="text-align: center;">Initial Performance</th>
<th style="text-align: center;">Final Performance</th>
<th style="text-align: center;">Final Performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: center;"><strong>Confluence</strong></td>
<td style="text-align: center;"><strong>Outlet</strong></td>
<td style="text-align: center;"><strong>Confluence</strong></td>
<td style="text-align: center;"><strong>Outlet</strong></td>
</tr>
<tr class="even">
<td>Nash</td>
<td style="text-align: center;">-26.38</td>
<td style="text-align: center;">0.87</td>
<td style="text-align: center;">0.89</td>
<td style="text-align: center;">0.91</td>
</tr>
<tr class="odd">
<td>Nash-ln</td>
<td style="text-align: center;">-2.67</td>
<td style="text-align: center;">0.81</td>
<td style="text-align: center;">0.80</td>
<td style="text-align: center;">0.84</td>
</tr>
<tr class="even">
<td>Pearson Correlation Coeff.</td>
<td style="text-align: center;">0.57</td>
<td style="text-align: center;">0.95</td>
<td style="text-align: center;">0.95</td>
<td style="text-align: center;">0.96</td>
</tr>
<tr class="odd">
<td>Kling-Gupta Efficiency</td>
<td style="text-align: center;">-2.20</td>
<td style="text-align: center;">0.91</td>
<td style="text-align: center;">0.94</td>
<td style="text-align: center;">0.95</td>
</tr>
<tr class="even">
<td>Bias Score</td>
<td style="text-align: center;">-9.03</td>
<td style="text-align: center;">0.99</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td>RRMSE</td>
<td style="text-align: center;">3.95</td>
<td style="text-align: center;">0.26</td>
<td style="text-align: center;">0.25</td>
<td style="text-align: center;">0.22</td>
</tr>
<tr class="even">
<td>Relative Volume Bias</td>
<td style="text-align: center;">3.17</td>
<td style="text-align: center;">0.07</td>
<td style="text-align: center;">2E-5</td>
<td style="text-align: center;">-6E-7</td>
</tr>
<tr class="odd">
<td>Normalized Peak Error</td>
<td style="text-align: center;">0.63</td>
<td style="text-align: center;">0.001</td>
<td style="text-align: center;">-0.02</td>
<td style="text-align: center;">-0.005</td>
</tr>
<tr class="even">
<td>OF</td>
<td style="text-align: center;">-117.06</td>
<td style="text-align: center;">5.12</td>
<td style="text-align: center;">5.45</td>
<td style="text-align: center;">5.56</td>
</tr>
</tbody>
</table>
</div>
<p>The simulation fits pretty well the outflow observed (<a href="#fig-examples_results_calibration_ex4">Figure&nbsp;<span>16.63</span></a>). Thus, the new parameters after the calibration can be kept by saving the model.</p>
<div id="fig-examples_results_calibration_ex4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/fig-examples_results_calibration_ex4.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 16.63: Graphic results of the calibration. Hydrograph of both observed and current simulated discharge</figcaption><p></p>
</figure>
</div>



</section>
</section>
</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./tech_gis_formats.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">GIS formats</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./acknowledgments.html" class="pagination-link">
        <span class="nav-page-text">Acknowledgments</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->


</body></html>